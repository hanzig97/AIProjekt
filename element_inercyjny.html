<body>

</body>
</html>

<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="index.css">

    <title>Hello, world!</title>
</head>
<body>
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<div class="container-fluid" style="height: 100vh">
    <div class="row bg-secondary text-white" style="height:15%">
        <!--<picture>-->
        <!--<source media="(max-width: 380px)" srcset="https://pollena.com.pl/5840-thickbox_default/bialy-jelen-mydlo-naturalne-w-kostce-szare-mydlo-150-g.jpg">-->
        <!--<source media="(max-width: 640px)" srcset="https://pl.rc-cdn.community.thermomix.com/recipeimage/qvyrc1sp-49549-783269-cfcd2-2uzub23h/1aa47b35-b705-4e2f-83a9-89b2c6a98f4d/medium/powidla-sliwkowe.jpg">-->
        <!--<source media="(min-width: 640px)" srcset="https://b.allegroimg.com/s512/03b852/0889f0b44a4ca09e788240a3e72b">-->
        <!--<img src="https://b.allegroimg.com/s512/03b852/0889f0b44a4ca09e788240a3e72b" alt="Trufla">-->
        <!--</picture>-->
        Projekt z przedmiotu Aplikacje Internetowe</br>
        Marcin Służałek
    </div>
    <div class="row" style="height:70%">
        <div class="col-2">
            <div style="display: flex">

                <div style="display: inline">
                    <form>
                        Wzmocnienie członu 1-szego rzędu k</br>
                        <input type="number" id="k1" value="2"/></br>
                        Stała czasowa członu 1-szego rzędu T</br>
                        <input type="number" id="T" value="10"/></br>
                        Wzmocnienie członu 2-go rzędu k</br>
                        <input type="number" id="k2" value="3"/></br>
                        Stała czasowa członu 2-go rzędu T1</br>
                        <input type="number" id="T1" value="50"/></br>
                        Stała czasowa członu 2-go rzędu T2</br>
                        <input type="number" id="T2" value="10"/></br>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-8 pre-scrollable" style="max-height:100%">
            <div class="p-3">
                <canvas id="plot" width="400" height="300">
                Your browser does not support the canvas element.
                </canvas>
            </div>
            <h3>Obiekt inercyjny 1-szego rzędu (czerwony)</h3>
            $$G(s) = \frac {k}{(sT+1)}$$
            $$h(t) = k(1-e^{-\frac{t}{T}})$$
            <h3>Obiekt inercyjny 2-go rzędu (niebieski)</h3>
            $$G(s) = \frac {k}{(sT_1+1)(sT_2+1)}$$
            $$h(t) = k(1-\frac{T_1}{T_1-T_2}e^{-\frac{t}{T_1}}+\frac{T_2}{T_1-T_2}e^{-\frac{t}{T_2}})$$
        </div>
        <div class="col-2">
            <img src="pp-put_logo_jasne.jpg">
        </div>
    </div>
    <div class="row bg-secondary text-white" style="height:15%">
        <div class="col-6 text-left">
            <button type="button" class="btn btn-dark"><a href="index.html">Do strony głównej</a></button>
        </div>
        <div class="col-6 text-right">
            <div class="fb-page" data-href="https://www.facebook.com/KlubZeglarskiPolitechnikiPoznanskiej/" data-tabs="timeline" data-width="500" data-height="120" data-small-header="true" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true">
                <blockquote cite="https://www.facebook.com/KlubZeglarskiPolitechnikiPoznanskiej/" class="fb-xfbml-parse-ignore">
                    <a href="https://www.facebook.com/KlubZeglarskiPolitechnikiPoznanskiej/">Klub Żeglarski Politechniki Poznańskiej</a>
                </blockquote>
            </div>
        </div>
    </div>
</div>


<script>
    (function(){
        var width = window.innerWidth;

        var canvas = document.getElementById("plot");
        canvas.width = width*0.60;

        var ctx = canvas.getContext("2d");
        var width = canvas.width;
        var height = canvas.height;

        var T;
        var T1;
        var T2;
        var k1;
        var k2;

        document.getElementById("T").addEventListener("change", refresh);
        document.getElementById("T1").addEventListener("change", refresh);
        document.getElementById("T2").addEventListener("change", refresh);
        document.getElementById("k1").addEventListener("change", refresh);
        document.getElementById("k2").addEventListener("change", refresh);


        function refresh(){
            get_constants();
            draw();
        }

        function get_constants(){
            T = document.getElementById("T").value;
            T1 = document.getElementById("T1").value;
            T2 = document.getElementById("T2").value;
            k1 = document.getElementById("k1").value;
            k2 = document.getElementById("k2").value;
        }
        // function CX(x){
        // 	return x;
        // }

        function CY(y){
            return height - y;
        }

        function step_inertia1(t){
            return k1*(1-Math.exp(-t/T));
        }

        function step_inertia2(t){
            var T3 = (T1/2) + Math.sqrt((T1^2/4)-T2^2);
            var T4 = (T1/2) - Math.sqrt((T1^2/4)-T2^2);

            return k2*(1 - (1/(T3-T4))*(T3*Math.exp(-t/T3)-T4*Math.exp(-t/T4)));
        }

        function draw(){

            //czyszczenie canvas

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            //rysowanie ukladu wspolrzednych

            ctx.beginPath();
            ctx.moveTo(0,0);
            ctx.lineTo(0,height);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(0,height);
            ctx.lineTo(width,height);
            ctx.stroke();

            //rysowanie inercji 1-szego rzedu

            ctx.moveTo(0,CY(0));
            ctx.strokeStyle = "Red";
            ctx.beginPath();

            for (var x = 0; x <= width; x += 1) {
                var y = 100*step_inertia1(x);
                ctx.lineTo(x,CY(y));
            }
            ctx.stroke();

            //rysowanie inercji 2-go rzedu

            ctx.moveTo(0,CY(0));
            ctx.strokeStyle = "Blue";
            ctx.beginPath();

            for (var x = 0; x <= width; x += 1) {
                var y = 100*step_inertia2(x);
                ctx.lineTo(x,CY(y));
            }
            ctx.stroke();
        }
        get_constants();
        draw();
    })
    ();
</script>
<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/pl_PL/sdk.js#xfbml=1&version=v4.0"></script>


</body>
</html>